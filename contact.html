<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>contact</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="several-mono">
    <div class="container">
      <header>
        <!-- Ceci est la navigation -->
        <nav>
          <div><a href="page404.html" class="link">Logo.</a></div>
          <ul>
            <li><a href="index.html" class="link">Accueil.</a></li>
            <li><a href="a-propos.html" class="link">À propos.</a></li>
            <li><a href="projets.html" class="link">Projets.</a></li>
            <li><a href="contact.html" class="link">Contact.</a></li>
          </ul>
        </nav>
          <hr class="dotted" />
      </header>
      <main>
        <h2 class="titre-contact">Contactez-nous</h2>
        <div class="content-contact">
          <!-- Ceci est le contenu du formulaire dans la colonne de gauche -->
          <section>
            <h3 class="titre-form">Formulaire de contact</h3>
            <form id="form-contact">
              <fieldset style ="width: 300px; height: auto ;"> 
                <div class="jtmekito">
                  <!-- section prénom -->
                  <label for="prenom"> Prénom </label><br />
                  <input type="text" id="prenom" name="prenom"/>
                  <br />
                  <span id="prenomError" class="error"></span>
                  <br />
                  <!-- section nom-->
                  <label for="name"> Nom </label><br />
                  <input type="text" id="name" name="name"/>
                  <br />
                  <span id="nameError" class="error"></span>
                  <br />
                  <!-- section email-->
                  <label for="email">E-mail </label><br />
                  <input type="email" id="email" name="email"/>
                  <br />
                  <span id="emailError" class="error"></span>
                  <br />
                  <!-- section message-->
                  <label for="message">Message personnalisé (facultatif) </label ><br />
                  <textarea style="width: 300px; margin: 5px; height: auto;"></textarea>
                  <span id="FormValid" class="valid" style="color: green;"></span>
                  <div class="button-form"> 
                    <button type="button" id="verifyButton">Vérifier le formulaire</button>
                    <button type="button" id="redirectButton" style="display: none;" onclick="window.location.href='merci.html'">Envoyer</button>
                  </div>
                </div>
              </fieldset>
            </form>
          </section>
          <!-- Ceci est le contenu de la colonne de droite dans une section -->
          <section class="contenu-droite">
            <h3 class="several-mono">Par téléphone ou chat</h3>
            <p>
              Besoin de réponse à vos questions ? <br />
              N'hésitez surtout pas à nous joindre au:
            </p>
            <p>Charlotte Des Allier [2026918]: (t)438-505-6559</p>
            <p>Océane Côté [2166135]: (t)438-321-5107</p>
            <p>
              Notre équipe est active en tout temps pour répondre à vos
              questions 24/7
            </p>
          </section>
        </div>
      </main>
      <footer class="jtmekito">
        <p>Tous les droit réservés @CocottePinotte</p>
      </footer>
    </div>
    <script>
      // sélectionner le formulaire et le champ input 
      const formulaire = document.getElementById('form-contact'); 
      const nameError = document.getElementById('nameError');   
      const prenomError = document.getElementById('prenomError');
      const emailError = document.getElementById('emailError')
      const messageError = document.getElementById('messageError')
      const FormValid = document.getElementById('FormValid')

      // expression régulière
      var regexEmail = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
      var regexNom = /^[a-zA-Z]+( [a-zA-Z]+)*$/
      var regexPrenom = /^[a-zA-Z]+( [a-zA-Z]+)*$/

     // Ajouter un écouteur d'événement sur le bouton de vérification
      document.getElementById('verifyButton').addEventListener('click', function() {
      // Réinitialiser les messages d'erreurs
      nameError.textContent = '';
      prenomError.textContent = '';
      emailError.textContent = '';

      let isValid = true; // Flag to check if the form is valid

     // Vérifier si le champ 'name' est vide
      const nameInput = document.getElementById('name');
      if (nameInput.value.trim() === '') {
        nameError.textContent = "Veuillez saisir votre nom";       
        isValid = false; // Set flag to false
      }  

      const prenomInput = document.getElementById('prenom');
      if (prenomInput.value.trim() === '') {
        prenomError.textContent = "Veuillez saisir votre prénom";    
        isValid = false; // Set flag to false
      }

      // Valeur du champ email
      const emailInput = document.getElementById('email');
      if (emailInput.value.trim() === '') {
        emailError.textContent = "Veuillez saisir votre e-mail";
        isValid = false; 
      }
      else if (!regexEmail.test(emailInput.value)) {
        emailError.textContent = "Adresse e-mail non valide";
        isValid = false;
      }

      if (isValid) {
        FormValid.textContent = "Formulaire valide";
        FormValid.style.color = "green";
        document.getElementById('redirectButton').style.display = 'block'; // Show the redirect button
      }
      });   
    </script>
  </body>
</html>
